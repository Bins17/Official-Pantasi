<!DOCTYPE html>
<html>
<head>
    <title>NBA Player Fantasy Points</title>
</head>
<body>
    <h1>NBA Player Fantasy Points</h1>
    <label for="player-name">Enter Player Name:</label>
    <input type="text" id="player-name" placeholder="Player Name">
    <button id="get-fantasy-points">Get Fantasy Points</button>
    <div id="result"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/oauth-1.0a/1.0.1/oauth-1.0a.js"></script>

    <script>
        document.getElementById('get-fantasy-points').addEventListener('click', function () {
            const playerName = document.getElementById('player-name').value;

            // Replace with your Yahoo API key and API secret
            const consumerKey = 'dj0yJmk9OUZWblo1OE1wZk5iJmQ9WVdrOU1XOHlja1ZQWm00bWNHbzlNQT09JnM9Y29uc3VtZXJzZWNyZXQmc3Y9MCZ4PTlj';
            const consumerSecret = '0adff39859233154b327ec3e8d0c3e47bd2a1cac';

            // Construct the API URL
            const apiUrl = `https://fantasysports.yahooapis.com/fantasy/v2/players;player_keys=nba.p.${playerName}/stats`;

            // Generate OAuth headers
            const oauth = OAuth({
                consumer: {
                    key: consumerKey,
                    secret: consumerSecret,
                },
                signature_method: 'HMAC-SHA1',
                hash_function(base_string, key) {
                    return CryptoJS.HmacSHA1(base_string, key).toString(CryptoJS.enc.Base64);
                },
            });

            const request_data = {
                url: apiUrl,
                method: 'GET',
            };

            const headers = oauth.toHeader(oauth.authorize(request_data));

            // Make a request to the Yahoo Fantasy Sports API
            fetch(apiUrl, {
                method: 'GET',
                headers: headers,
            })
            .then(response => response.json())
            .then(data => {
                const playerData = data.fantasy_content.players[0].player[0];
                const fantasyPoints = playerData.player_points.total;

                document.getElementById('result').innerHTML = `${playerName} has ${fantasyPoints} fantasy points.`;
            })
            .catch(error => {
                document.getElementById('result').innerHTML = 'Error fetching data. Please check the player name or API credentials.';
            });
        });
    </script>
</body>
</html>

